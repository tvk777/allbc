jQuery(function ($) {
    jQuery('#w1').tab();
    jQuery&&jQuery.pjax&&(jQuery.pjax.defaults.maxCacheLength=0);
    if (jQuery('#w2').data('fileinput')) { jQuery('#w2').fileinput('destroy'); }
    jQuery('#w2').fileinput(fileinput_4adc470a);

    jQuery('#w3').yiiGridView({"filterUrl":"\/backend\/bc-items\/update?id=31404","filterSelector":"#w3-filters input, #w3-filters select","filterOnFocusOut":true});
    jQuery('#w4').yiiGridView({"filterUrl":"\/backend\/bc-items\/update?id=31404","filterSelector":"#w4-filters input, #w4-filters select","filterOnFocusOut":true});
    jQuery(document).pjax("#p0 a", {"push":true,"replace":false,"timeout":1000,"scrollTo":false,"container":"#p0"});
    jQuery(document).on("submit", "#p0 form[data-pjax]", function (event) {jQuery.pjax.submit(event, {"push":true,"replace":false,"timeout":1000,"scrollTo":false,"container":"#p0"});});
    jQuery('#w5').tab();
    if (jQuery('#imageFiles').data('fileinput')) { jQuery('#imageFiles').fileinput('destroy'); }
    jQuery('#imageFiles').fileinput(fileinput_9f82e4eb);
    jQuery('#imageFiles').on('filebatchselected', function(event, files){
        //var filesCount = $("#imageFiles").fileinput("getFilesCount");
        //var plugin = $("#imageFiles").data("fileinput");
        //console.log(plugin.initialPreview); // get initialPreview
        jQuery("#imageFiles").fileinput("upload");
    });
    jQuery('#imageFiles').on('fileuploaded', function(event, data, previewId, index) {
        var key = data.response.initialPreviewConfig[0].key;
        uploaded.push(data.response.initialPreviewConfig[0].key);
        $(".uploaded").val(uploaded);
    });
    jQuery('#imageFiles').on('filedeleted', function(event, key, jqXHR, data) {
        deleted.push(key);
        $(".deleted").val(deleted);
    });
    jQuery('#imageFiles').on('filesorted', function(event, params){
        $.post("/backend/bc-items/sort-image?id=31404",{sort: params});
    });

    // initialize array
    var deleted = [],uploaded = [];
    jQuery('#w6').multipleInput({"id":"w6","inputId":"bcitems-characteristics","template":"<tr class=\"multiple-input-list__item\"><td class=\"list-cell__col1\"><div class=\"field-bcitems-characteristics-{multiple_index_w6}-col1 form-group\"><input type=\"text\" id=\"bcitems-characteristics-{multiple_index_w6}-col1\" class=\"form-control\" name=\"BcItems[characteristics][{multiple_index_w6}][col1]\" tabindex=\"1\">\n<div class=\"help-block help-block-error\"></div></div></td>\n<td class=\"list-cell__col2\"><div class=\"field-bcitems-characteristics-{multiple_index_w6}-col2 form-group\"><input type=\"text\" id=\"bcitems-characteristics-{multiple_index_w6}-col2\" class=\"form-control\" name=\"BcItems[characteristics][{multiple_index_w6}][col2]\" tabindex=\"1\">\n<div class=\"help-block help-block-error\"></div></div></td>\n<td class=\"list-cell__button\"><div class=\"multiple-input-list__btn js-input-remove btn btn-danger\"><i class=\"glyphicon glyphicon-remove\"></i></div></td></tr>","jsInit":[],"jsTemplates":[],"max":9223372036854775807,"min":0,"attributes":{"bcitems-characteristics-col1":[],"bcitems-characteristics-col2":[]},"indexPlaceholder":"multiple_index_w6","prepend":false});
    jQuery('#w7').multipleInput({"id":"w7","inputId":"bcitems-characteristics_ua","template":"<tr class=\"multiple-input-list__item\"><td class=\"list-cell__col1\"><div class=\"field-bcitems-characteristics_ua-{multiple_index_w7}-col1 form-group\"><input type=\"text\" id=\"bcitems-characteristics_ua-{multiple_index_w7}-col1\" class=\"form-control\" name=\"BcItems[characteristics_ua][{multiple_index_w7}][col1]\" tabindex=\"1\">\n<div class=\"help-block help-block-error\"></div></div></td>\n<td class=\"list-cell__col2\"><div class=\"field-bcitems-characteristics_ua-{multiple_index_w7}-col2 form-group\"><input type=\"text\" id=\"bcitems-characteristics_ua-{multiple_index_w7}-col2\" class=\"form-control\" name=\"BcItems[characteristics_ua][{multiple_index_w7}][col2]\" tabindex=\"1\">\n<div class=\"help-block help-block-error\"></div></div></td>\n<td class=\"list-cell__button\"><div class=\"multiple-input-list__btn js-input-remove btn btn-danger\"><i class=\"glyphicon glyphicon-remove\"></i></div></td></tr>","jsInit":[],"jsTemplates":[],"max":9223372036854775807,"min":0,"attributes":{"bcitems-characteristics_ua-col1":[],"bcitems-characteristics_ua-col2":[]},"indexPlaceholder":"multiple_index_w7","prepend":false});
    jQuery('#w8').multipleInput({"id":"w8","inputId":"bcitems-characteristics_en","template":"<tr class=\"multiple-input-list__item\"><td class=\"list-cell__col1\"><div class=\"field-bcitems-characteristics_en-{multiple_index_w8}-col1 form-group\"><input type=\"text\" id=\"bcitems-characteristics_en-{multiple_index_w8}-col1\" class=\"form-control\" name=\"BcItems[characteristics_en][{multiple_index_w8}][col1]\" tabindex=\"1\">\n<div class=\"help-block help-block-error\"></div></div></td>\n<td class=\"list-cell__col2\"><div class=\"field-bcitems-characteristics_en-{multiple_index_w8}-col2 form-group\"><input type=\"text\" id=\"bcitems-characteristics_en-{multiple_index_w8}-col2\" class=\"form-control\" name=\"BcItems[characteristics_en][{multiple_index_w8}][col2]\" tabindex=\"1\">\n<div class=\"help-block help-block-error\"></div></div></td>\n<td class=\"list-cell__button\"><div class=\"multiple-input-list__btn js-input-remove btn btn-danger\"><i class=\"glyphicon glyphicon-remove\"></i></div></td></tr>","jsInit":[],"jsTemplates":[],"max":9223372036854775807,"min":0,"attributes":{"bcitems-characteristics_en-col1":[],"bcitems-characteristics_en-col2":[]},"indexPlaceholder":"multiple_index_w8","prepend":false});
    jQuery('#w9').tab();
    jQuery('#w10').tab();
    jQuery('#w0').yiiActiveForm([{"id":"slugs-slug","name":"slug","container":".field-slugs-slug","input":"#slugs-slug","validate":function (attribute, value, messages, deferred, $form) {yii.validation.string(value, messages, {"message":"Значение «Slug» должно быть строкой.","max":255,"tooLong":"Значение «Slug» должно содержать максимум 255 символов.","skipOnEmpty":1});}},{"id":"bcclasses-name","name":"name","container":".field-bcclasses-name","input":"#bcclasses-name","validate":function (attribute, value, messages, deferred, $form) {yii.validation.required(value, messages, {"message":"Необходимо заполнить «Name»."});yii.validation.string(value, messages, {"message":"Значение «Name» должно быть строкой.","max":255,"tooLong":"Значение «Name» должно содержать максимум 255 символов.","skipOnEmpty":1});}},{"id":"bcitems-percent_commission","name":"percent_commission","container":".field-bcitems-percent_commission","input":"#bcitems-percent_commission","validate":function (attribute, value, messages, deferred, $form) {yii.validation.number(value, messages, {"pattern":/^\s*[+-]?\d+\s*$/,"message":"Значение «Percent Commission» должно быть целым числом.","skipOnEmpty":1});}},{"id":"bcitems-active","name":"active","container":".field-bcitems-active","input":"#bcitems-active","validate":function (attribute, value, messages, deferred, $form) {yii.validation.number(value, messages, {"pattern":/^\s*[+-]?\d+\s*$/,"message":"Значение «Опубликовано» должно быть целым числом.","skipOnEmpty":1});yii.validation.required(value, messages, {"message":"Необходимо заполнить «Опубликовано»."});}},{"id":"bcitems-hide","name":"hide","container":".field-bcitems-hide","input":"#bcitems-hide","validate":function (attribute, value, messages, deferred, $form) {yii.validation.number(value, messages, {"pattern":/^\s*[+-]?\d+\s*$/,"message":"Значение «БЦ виден только для менеджеров или администраторов» должно быть целым числом.","skipOnEmpty":1});yii.validation.required(value, messages, {"message":"Необходимо заполнить «БЦ виден только для менеджеров или администраторов»."});}},{"id":"bcitems-hide_contacts","name":"hide_contacts","container":".field-bcitems-hide_contacts","input":"#bcitems-hide_contacts","validate":function (attribute, value, messages, deferred, $form) {yii.validation.number(value, messages, {"pattern":/^\s*[+-]?\d+\s*$/,"message":"Значение «Скрыть контакты» должно быть целым числом.","skipOnEmpty":1});}},{"id":"bcitems-approved","name":"approved","container":".field-bcitems-approved","input":"#bcitems-approved","validate":function (attribute, value, messages, deferred, $form) {yii.validation.number(value, messages, {"pattern":/^\s*[+-]?\d+\s*$/,"message":"Значение «Проверенный» должно быть целым числом.","skipOnEmpty":1});}},{"id":"bcitems-name","name":"name","container":".field-bcitems-name","input":"#bcitems-name","validate":function (attribute, value, messages, deferred, $form) {yii.validation.string(value, messages, {"message":"Значение «Название» должно быть строкой.","skipOnEmpty":1});}},{"id":"bcitems-annons","name":"annons","container":".field-bcitems-annons","input":"#bcitems-annons","validate":function (attribute, value, messages, deferred, $form) {yii.validation.string(value, messages, {"message":"Значение «Короткое описание» должно быть строкой.","skipOnEmpty":1});}},{"id":"bcitems-content","name":"content","container":".field-bcitems-content","input":"#bcitems-content","validate":function (attribute, value, messages, deferred, $form) {yii.validation.string(value, messages, {"message":"Значение «Описание» должно быть строкой.","skipOnEmpty":1});}},{"id":"bcitems-mgr_content","name":"mgr_content","container":".field-bcitems-mgr_content","input":"#bcitems-mgr_content","validate":function (attribute, value, messages, deferred, $form) {yii.validation.string(value, messages, {"message":"Значение «Описание (только для менеджера)» должно быть строкой.","skipOnEmpty":1});}},{"id":"bcitems-name_ua","name":"name_ua","container":".field-bcitems-name_ua","input":"#bcitems-name_ua","validate":function (attribute, value, messages, deferred, $form) {yii.validation.string(value, messages, {"message":"Значение «Name Ua» должно быть строкой.","skipOnEmpty":1});}},{"id":"bcitems-annons_ua","name":"annons_ua","container":".field-bcitems-annons_ua","input":"#bcitems-annons_ua","validate":function (attribute, value, messages, deferred, $form) {yii.validation.string(value, messages, {"message":"Значение «Annons Ua» должно быть строкой.","skipOnEmpty":1});}},{"id":"bcitems-content_ua","name":"content_ua","container":".field-bcitems-content_ua","input":"#bcitems-content_ua","validate":function (attribute, value, messages, deferred, $form) {yii.validation.string(value, messages, {"message":"Значение «Content Ua» должно быть строкой.","skipOnEmpty":1});}},{"id":"bcitems-mgr_content_ua","name":"mgr_content_ua","container":".field-bcitems-mgr_content_ua","input":"#bcitems-mgr_content_ua","validate":function (attribute, value, messages, deferred, $form) {yii.validation.string(value, messages, {"message":"Значение «Mgr Content Ua» должно быть строкой.","skipOnEmpty":1});}},{"id":"bcitems-name_en","name":"name_en","container":".field-bcitems-name_en","input":"#bcitems-name_en","validate":function (attribute, value, messages, deferred, $form) {yii.validation.string(value, messages, {"message":"Значение «Name En» должно быть строкой.","skipOnEmpty":1});}},{"id":"bcitems-annons_en","name":"annons_en","container":".field-bcitems-annons_en","input":"#bcitems-annons_en","validate":function (attribute, value, messages, deferred, $form) {yii.validation.string(value, messages, {"message":"Значение «Annons En» должно быть строкой.","skipOnEmpty":1});}},{"id":"bcitems-content_en","name":"content_en","container":".field-bcitems-content_en","input":"#bcitems-content_en","validate":function (attribute, value, messages, deferred, $form) {yii.validation.string(value, messages, {"message":"Значение «Content En» должно быть строкой.","skipOnEmpty":1});}},{"id":"bcitems-mgr_content_en","name":"mgr_content_en","container":".field-bcitems-mgr_content_en","input":"#bcitems-mgr_content_en","validate":function (attribute, value, messages, deferred, $form) {yii.validation.string(value, messages, {"message":"Значение «Mgr Content En» должно быть строкой.","skipOnEmpty":1});}},{"id":"bcitems-city_id","name":"city_id","container":".field-bcitems-city_id","input":"#bcitems-city_id","validate":function (attribute, value, messages, deferred, $form) {yii.validation.number(value, messages, {"pattern":/^\s*[+-]?\d+\s*$/,"message":"Значение «City ID» должно быть целым числом.","skipOnEmpty":1});}},{"id":"bcitems-street","name":"street","container":".field-bcitems-street","input":"#bcitems-street","validate":function (attribute, value, messages, deferred, $form) {yii.validation.required(value, messages, {"message":"Необходимо заполнить «Street»."});yii.validation.string(value, messages, {"message":"Значение «Street» должно быть строкой.","max":255,"tooLong":"Значение «Street» должно содержать максимум 255 символов.","skipOnEmpty":1});}},{"id":"bcitems-country_id","name":"country_id","container":".field-bcitems-country_id","input":"#bcitems-country_id","validate":function (attribute, value, messages, deferred, $form) {yii.validation.number(value, messages, {"pattern":/^\s*[+-]?\d+\s*$/,"message":"Значение «Country ID» должно быть целым числом.","skipOnEmpty":1});yii.validation.required(value, messages, {"message":"Необходимо заполнить «Country ID»."});}},{"id":"bcitems-district_id","name":"district_id","container":".field-bcitems-district_id","input":"#bcitems-district_id","validate":function (attribute, value, messages, deferred, $form) {yii.validation.number(value, messages, {"pattern":/^\s*[+-]?\d+\s*$/,"message":"Значение «District ID» должно быть целым числом.","skipOnEmpty":1});}},{"id":"bcitemssubways-subway_id","name":"subway_id","container":".field-bcitemssubways-subway_id","input":"#bcitemssubways-subway_id","validate":function (attribute, value, messages, deferred, $form) {yii.validation.required(value, messages, {"message":"Необходимо заполнить «Subway ID»."});yii.validation.number(value, messages, {"pattern":/^\s*[+-]?\d+\s*$/,"message":"Значение «Subway ID» должно быть целым числом.","skipOnEmpty":1});}},{"id":"bcitemssubways-walk_distance","name":"walk_distance","container":".field-bcitemssubways-walk_distance","input":"#bcitemssubways-walk_distance","validate":function (attribute, value, messages, deferred, $form) {yii.validation.number(value, messages, {"pattern":/^\s*[+-]?\d+\s*$/,"message":"Значение «Walk Distance» должно быть целым числом.","skipOnEmpty":1});}},{"id":"bcitemssubways-walk_seconds","name":"walk_seconds","container":".field-bcitemssubways-walk_seconds","input":"#bcitemssubways-walk_seconds","validate":function (attribute, value, messages, deferred, $form) {yii.validation.number(value, messages, {"pattern":/^\s*[+-]?\d+\s*$/,"message":"Значение «Walk Seconds» должно быть целым числом.","skipOnEmpty":1});}},{"id":"bcitems-shuttle","name":"shuttle","container":".field-bcitems-shuttle","input":"#bcitems-shuttle","validate":function (attribute, value, messages, deferred, $form) {yii.validation.string(value, messages, {"message":"Значение «Как добраться» должно быть строкой.","skipOnEmpty":1});}},{"id":"bcitems-title","name":"title","container":".field-bcitems-title","input":"#bcitems-title","validate":function (attribute, value, messages, deferred, $form) {yii.validation.string(value, messages, {"message":"Значение «Title» должно быть строкой.","skipOnEmpty":1});}},{"id":"bcitems-keywords","name":"keywords","container":".field-bcitems-keywords","input":"#bcitems-keywords","validate":function (attribute, value, messages, deferred, $form) {yii.validation.string(value, messages, {"message":"Значение «Keywords» должно быть строкой.","skipOnEmpty":1});}},{"id":"bcitems-description","name":"description","container":".field-bcitems-description","input":"#bcitems-description","validate":function (attribute, value, messages, deferred, $form) {yii.validation.string(value, messages, {"message":"Значение «Description» должно быть строкой.","skipOnEmpty":1});}},{"id":"bcitems-title_ua","name":"title_ua","container":".field-bcitems-title_ua","input":"#bcitems-title_ua","validate":function (attribute, value, messages, deferred, $form) {yii.validation.string(value, messages, {"message":"Значение «Title Ua» должно быть строкой.","skipOnEmpty":1});}},{"id":"bcitems-keywords_ua","name":"keywords_ua","container":".field-bcitems-keywords_ua","input":"#bcitems-keywords_ua","validate":function (attribute, value, messages, deferred, $form) {yii.validation.string(value, messages, {"message":"Значение «Keywords Ua» должно быть строкой.","skipOnEmpty":1});}},{"id":"bcitems-description_ua","name":"description_ua","container":".field-bcitems-description_ua","input":"#bcitems-description_ua","validate":function (attribute, value, messages, deferred, $form) {yii.validation.string(value, messages, {"message":"Значение «Description Ua» должно быть строкой.","skipOnEmpty":1});}},{"id":"bcitems-title_en","name":"title_en","container":".field-bcitems-title_en","input":"#bcitems-title_en","validate":function (attribute, value, messages, deferred, $form) {yii.validation.string(value, messages, {"message":"Значение «Title En» должно быть строкой.","skipOnEmpty":1});}},{"id":"bcitems-keywords_en","name":"keywords_en","container":".field-bcitems-keywords_en","input":"#bcitems-keywords_en","validate":function (attribute, value, messages, deferred, $form) {yii.validation.string(value, messages, {"message":"Значение «Keywords En» должно быть строкой.","skipOnEmpty":1});}},{"id":"bcitems-description_en","name":"description_en","container":".field-bcitems-description_en","input":"#bcitems-description_en","validate":function (attribute, value, messages, deferred, $form) {yii.validation.string(value, messages, {"message":"Значение «Description En» должно быть строкой.","skipOnEmpty":1});}},{"id":"bcitems-redirect","name":"redirect","container":".field-bcitems-redirect","input":"#bcitems-redirect","validate":function (attribute, value, messages, deferred, $form) {yii.validation.string(value, messages, {"message":"Значение «Redirect» должно быть строкой.","max":255,"tooLong":"Значение «Redirect» должно содержать максимум 255 символов.","skipOnEmpty":1});}},{"id":"bcitems-characteristics","name":"characteristics","container":".field-bcitems-characteristics","input":"#bcitems-characteristics","validate":function (attribute, value, messages, deferred, $form) {yii.validation.string(value, messages, {"message":"Значение «Characteristics» должно быть строкой.","skipOnEmpty":1});}},{"id":"bcitems-characteristics_ua","name":"characteristics_ua","container":".field-bcitems-characteristics_ua","input":"#bcitems-characteristics_ua","validate":function (attribute, value, messages, deferred, $form) {yii.validation.string(value, messages, {"message":"Значение «Characteristics Ua» должно быть строкой.","skipOnEmpty":1});}},{"id":"bcitems-characteristics_en","name":"characteristics_en","container":".field-bcitems-characteristics_en","input":"#bcitems-characteristics_en","validate":function (attribute, value, messages, deferred, $form) {yii.validation.string(value, messages, {"message":"Значение «Characteristics En» должно быть строкой.","skipOnEmpty":1});}}], []);
    $('body').on('click', '.modal-form', function() {
        var options = $.extend({"size":null,"loginUrl":["site\/login"],"singleton":true}, $(this).data()),
            cloptions = {"class":""},
            sel = 'modal-form',
            cls = $(this).attr('class');
        cls = cls.replace(sel, '');
        cloptions.class = cls;
        $.createModalForm(options, cloptions).ajaxContent({url : $(this).attr('href') || $(this).data('url')});;
        return false;
    });
});